{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport { TransactionDetails } from './index/transaction-details';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    wrapper: {\n      width: '80%',\n      margin: '0 auto'\n    },\n    heading: {\n      margin: '20px auto',\n      'text-align': 'center'\n    },\n    debit: {\n      backgroundColor: theme.palette.success.light\n    },\n    credit: {\n      backgroundColor: theme.palette.error.light\n    },\n    capitalize: {\n      'text-transform': 'capitalize'\n    }\n  };\n});\n\nvar Index = function Index(_ref) {\n  var className = _ref.className;\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      transactions = _useState[0],\n      setTransactions = _useState[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(axios('/api/v1/transaction'));\n\n            case 2:\n              result = _context.sent;\n              setTransactions(result.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var _useState2 = useState(),\n      expanded = _useState2[0],\n      setExpanded = _useState2[1];\n\n  var handleExpand = function handleExpand(panel) {\n    return function (event, newExpanded) {\n      setExpanded(newExpanded ? panel : false);\n    };\n  };\n\n  return __jsx(\"div\", {\n    className: \"\".concat(className, \" \").concat(classes.wrapper)\n  }, __jsx(Typography, {\n    className: classes.heading,\n    variant: \"h3\",\n    component: \"h2\"\n  }, \"Transactions history\"), transactions.map(function (transaction) {\n    return __jsx(Accordion, {\n      key: transaction.id,\n      expanded: expanded === transaction.id,\n      onChange: handleExpand(transaction.id)\n    }, __jsx(AccordionSummary, {\n      className: classes[transaction.type],\n      expandIcon: __jsx(ExpandMoreIcon, null)\n    }, __jsx(Typography, null, __jsx(\"span\", {\n      className: classes.capitalize\n    }, transaction.type), \": \", transaction.amount)), __jsx(AccordionDetails, null, __jsx(TransactionDetails, {\n      transaction: transaction\n    })));\n  }));\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}