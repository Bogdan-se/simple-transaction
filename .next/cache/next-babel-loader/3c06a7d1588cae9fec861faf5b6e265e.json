{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport { TransactionDetails } from './index/transaction-details';\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    width: '80%',\n    margin: '0 auto'\n  },\n  heading: {\n    margin: '20px auto',\n    'text-align': 'center'\n  },\n  debit: {\n    backgroundColor: theme.palette.success.light\n  },\n  credit: {\n    backgroundColor: theme.palette.error.light\n  },\n  capitalize: {\n    'text-transform': 'capitalize'\n  }\n}));\n\nconst Index = ({\n  className\n}) => {\n  const classes = useStyles();\n  const {\n    0: transactions,\n    1: setTransactions\n  } = useState([]);\n  useEffect(() => {\n    (async () => {\n      const result = await axios('/api/v1/transaction');\n      setTransactions(result.data);\n    })();\n  }, []);\n  const {\n    0: expanded,\n    1: setExpanded\n  } = useState();\n\n  const handleExpand = panel => (event, newExpanded) => {\n    setExpanded(newExpanded ? panel : false);\n  };\n\n  return __jsx(\"div\", {\n    className: `${className} ${classes.wrapper}`\n  }, __jsx(Typography, {\n    className: classes.heading,\n    variant: \"h3\",\n    component: \"h2\"\n  }, \"Transactions history\"), transactions.map(transaction => __jsx(Accordion, {\n    key: transaction.id,\n    expanded: expanded === transaction.id,\n    onChange: handleExpand(transaction.id)\n  }, __jsx(AccordionSummary, {\n    className: classes[transaction.type],\n    expandIcon: __jsx(ExpandMoreIcon, null)\n  }, __jsx(Typography, null, __jsx(\"span\", {\n    className: classes.capitalize\n  }, transaction.type), \": \", transaction.amount)), __jsx(AccordionDetails, null, __jsx(TransactionDetails, {\n    transaction: transaction\n  })))));\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}